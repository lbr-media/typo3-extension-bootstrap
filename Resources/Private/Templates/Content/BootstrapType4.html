<html
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    xmlns:bs="http://typo3.org/ns/LBRmedia/Bootstrap/ViewHelpers"
    data-namespace-typo3-fluid="true">

    <!--
    title = Versetzte Bilder
    description = Links/rechts versetzt angeordnete Bilder mit der MÃ¶glichkeit Links im Bild als Button zu setzen.
    -->
    <f:layout name="Default" />

    <f:section name="Main"><f:spaceless>
        <f:if condition="{images -> f:count()}">
            <div data-app-toggle="offset-images" data-app-layout="{layout}">
                <f:for each="{images}" as="image">
                    <div class="image offset-image">
                        <f:render partial="ImageHeader" section="Default" arguments="{header:image.properties.tx_bootstrap_header}" />
                        <f:if condition="{image.description}">
                            <f:then>
                                <figure>
                                    <f:render section="_Picture" arguments="{image:image}" />
                                    <figcaption>{image.description -> f:format.nl2br()}</figcaption>
                                </figure>
                            </f:then>
                            <f:else>
                                <f:render section="_Picture" arguments="{image:image}" />
                            </f:else>
                        </f:if>
                    </div>
                </f:for>
                <div class="clear"></div>
            </div>
        </f:if>
    </f:spaceless></f:section>

    <f:section name="_Picture"><f:spaceless>
        <f:if condition="{image.link}">
            <f:then>
                <div class="button-in-image">
                    <picture><f:render section="_Image" arguments="{image:image}" /></picture>
                    <f:link.typolink parameter="{image.link}" class="btn btn-black">{f:if(condition:image.properties.tx_bootstrap_link_text, then:image.properties.tx_bootstrap_link_text, else:'mehr erfahren')}</f:link.typolink>
                </div>
            </f:then>
            <f:else>
                <picture><f:render section="_Image" arguments="{image:image}" /></picture>
            </f:else>
        </f:if>
    </f:spaceless></f:section>

    <f:section name="_Image"><f:spaceless>
        <source media="(max-width: 575.98px)" srcset="{f:uri.image(image:image, cropVariant:'xs', maxWidth:480)}">
        <source media="(min-width: 576px) and (max-width: 767.98px)" srcset="{f:uri.image(image:image, cropVariant:'sm', maxWidth:960)} 1x, {f:uri.image(image:image, cropVariant:'sm', maxWidth:1440)} 2x">
        <source media="(min-width: 768px) and (max-width: 991.98px)" srcset="{f:uri.image(image:image, cropVariant:'md', maxWidth:960)} 1x, {f:uri.image(image:image, cropVariant:'md', maxWidth:1440)} 2x">
        <source media="(min-width: 992px) and (max-width: 1199.98px)" srcset="{f:uri.image(image:image, cropVariant:'lg', maxWidth:1440)}">
        <source media="(min-width: 1200px)" srcset="{f:uri.image(image:image, cropVariant:'xl', maxWidth:1440)}">
        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="{image.alternative}" title="{image.title}">
    </f:spaceless></f:section>
</html>