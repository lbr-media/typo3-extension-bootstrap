<html
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    xmlns:ce="http://typo3.org/ns/TYPO3/CMS/FluidStyledContent/ViewHelpers"
    data-namespace-typo3-fluid="true">
<f:if condition="{file.description}||{file.properties.copyright}">
    <f:then><figure{f:if(condition:grid.mediaitem.figure_classes, then:' class="{grid.mediaitem.figure_classes}"')}></f:then>
    <f:else><f:if condition="{grid.mediaitem.figure_classes}"><div class="grid.mediaitem.figure_classes"></f:if></f:else>
</f:if>
    <f:if condition="{file.properties.copyright}"><div class="position-relative"></f:if>
    <f:if condition="{file.link}">
        <f:then>
            <f:link.typolink parameter="{file.link}" title="{file.title}">
                <f:render partial="Media/Rendering/Image" arguments="{file:file, dimensions:dimensions, settings:settings, grid:grid}" />
            </f:link.typolink>
        </f:then>
        <f:else>
            <f:if condition="{grid.mediaitem.image_zoom}">
                <f:then>
                    <a class="lightbox" data-toggle="lightbox" data-title="{file.properties.title}" href="{f:uri.image(image:file, maxWidth:'1000', maxHeight:'1000', cropVariant:'lightbox')}" data-gallery="ce-gallery-{data.uid}">
                        <f:render partial="Media/Rendering/Image" arguments="{file:file, dimensions:dimensions, settings:settings, grid:grid}" />
                    </a>
                </f:then>
                <f:else>
                    <f:render partial="Media/Rendering/Image" arguments="{file:file, dimensions:dimensions, settings:settings, grid:grid}" />
                </f:else>
            </f:if>
        </f:else>
    </f:if>
    <f:if condition="{file.properties.copyright}">
            <footer>
                <small class="figure-copyright">
                    {file.properties.copyright -> f:format.nl2br()}
                </small>
            </footer>
        </div>
    </f:if>
    <f:if condition="{file.description}">
        <figcaption class="figure-caption">
            {file.description}
        </figcaption>
    </f:if>
<f:if condition="{file.description}||{file.properties.copyright}">
    <f:then></figure></f:then>
    <f:else><f:if condition="{grid.mediaitem.figure_classes}"></div></f:if></f:else>
</f:if>
</html>
